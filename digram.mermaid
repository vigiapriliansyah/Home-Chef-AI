graph TB
    %% Data Input & Processing
    A["ğŸ“ CSV Dataset<br/>Indonesian_Food_Recipes_small.csv"] --> B["ğŸ”„ Data Processing<br/>Clean & Generate Examples"]
    B --> C["ğŸ¤– Model Training<br/>Qwen2.5-1.5B + LoRA"]
    
    %% AI Model Deployment
    C --> D["ğŸ’¾ Fine-tuned Model<br/>IFMF-Qwen2.5-1.5B-enhanced"]
    D --> E["ğŸš€ FastAPI Server<br/>localhost:8000"]
    E --> F["ğŸ“¡ AI Endpoints<br/>/generate, /health, /cancel"]
    
    %% Web Application Stack
    G["âš›ï¸ Next.js Frontend"] --> H["ğŸŒ API Routes<br/>/api/chat, /api/auth"]
    H --> I["ğŸ—„ï¸ Database<br/>SQLite + Prisma"]
    
    %% Authentication & User Management
    J["ğŸ” NextAuth.js<br/>Authentication"] --> I
    J --> G
    
    %% UI Components
    G --> K["ğŸ¨ UI Components<br/>Chat Interface, Auth Forms"]
    
    %% Real-time Communication
    K --> L["ğŸ“¡ Streaming Integration<br/>Server-Sent Events"]
    L --> F
    
    %% Data Models
    I --> M1["ğŸ‘¤ Users"]
    I --> M2["ğŸ’¬ Chats"]
    I --> M3["ğŸ“ Messages"]
    
    %% Deployment Infrastructure
    N["ğŸš€ Deployment"] --> N1["ğŸŒ Next.js App<br/>Frontend + API"]
    N --> N2["ğŸ¤– AI Model Server<br/>FastAPI"]
    N --> N3["ğŸ—„ï¸ Database<br/>SQLite"]
    
    %% Main Flow Connections
    F -.-> L
    H --> J
    G --> H
    
    %% Styling - Simplified Colors
    classDef dataLayer fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    classDef aiLayer fill:#e8f5e8,stroke:#388e3c,stroke-width:2px
    classDef webLayer fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    classDef authLayer fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    classDef deployLayer fill:#fce4ec,stroke:#c2185b,stroke-width:2px
    
    class A,B,C,D dataLayer
    class E,F,L aiLayer
    class G,H,I,K,M1,M2,M3 webLayer
    class J authLayer
    class N,N1,N2,N3 deployLayer